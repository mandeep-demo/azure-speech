const path = require('path')
const express = require('express')

console.log(__dirname);

const app = express(),
            DIST_DIR = __dirname,
            HTML_FILE = path.join(DIST_DIR, `${__dirname}/src/html/index.html`)

app.use(express.static(DIST_DIR))

app.get('/', (req, res) => {
    res.sendFile(HTML_FILE)
})

app.get('/speechDemo', (req, res) => {
  res.sendFile(`${__dirname}/src/speech.html`);
})

app.get('/azure-sdk/microsoft.cognitiveservices.speech.sdk.bundle.js', (req, res) => {
    console.log('inside azure');
    res.sendFile(`${__dirname}/src/azure-sdk/microsoft.cognitiveservices.speech.sdk.bundle.js`);
})

app.get('/bingspeech/BingSpeech.js', (req, res) => {
    console.log('inside azure');
    res.sendFile(`${__dirname}/src/bingspeech/BingSpeech.js`);
})

app.get('/bingspeech/index.js', (req, res) => {
    console.log('inside azure');
    res.sendFile(`${__dirname}/src/bingspeech/index.js`);
})


const PORT = process.env.PORT || 4000

app.listen(PORT, () => {
    console.log(`App listening to ${PORT}....`)
    console.log('Press Ctrl+C to quit.')
})
